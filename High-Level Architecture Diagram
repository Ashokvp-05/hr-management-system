# üè¢ RUDRATIC HR SYSTEM: MASTER ARCHITECTURE DOCUMENT
> **Version**: 1.0.0 (Gold Master) | **Classification**: Internal / Confidential
> **Audience**: C-Suite (CEO/CTO) & Engineering Leads

## üèõÔ∏è 1. GLOBAL SYSTEM ARCHITECTURE

```text
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                    USER DEVICES (Client)                    ‚îÇ
       ‚îÇ    üíª Admin       üëî Manager       üë∑ Employee              ‚îÇ
       ‚îÇ  (Web Browser / Mobile PWA - Chrome, Safari, Edge)          ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                      ‚îÇ
                                      ‚îÇ HTTPS (TLS 1.3) / Secure WebSockets
                                      ‚ñº
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                 FRONTEND LAYER (Next.js 16)                 ‚îÇ
       ‚îÇ                                                             ‚îÇ
       ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
       ‚îÇ   ‚îÇ   PRESENTATION       ‚îÇ  ‚îÇ      APPLICATION CORE     ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ Shadcn UI          ‚îÇ  ‚îÇ ‚Ä¢ App Router (Server)     ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ Tailwind v4        ‚îÇ  ‚îÇ ‚Ä¢ React 19 (Client)       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ Framer Motion      ‚îÇ  ‚îÇ ‚Ä¢ TanStack Query          ‚îÇ   ‚îÇ
       ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                      ‚îÇ
                                      ‚îÇ REST API (JSON) / Bearer Tokens
                                      ‚ñº
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                 BACKEND LAYER (Node.js API)                 ‚îÇ
       ‚îÇ                                                             ‚îÇ
       ‚îÇ   [ API GATEWAY & SECURITY MIDDLEWARE ]                     ‚îÇ
       ‚îÇ   (Helmet ‚Ä¢ CORS ‚Ä¢ Rate Limiting ‚Ä¢ Zod Validation)          ‚îÇ
       ‚îÇ                                                             ‚îÇ
       ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
       ‚îÇ   ‚îÇ  IDENTITY ACCESS   ‚îÇ   ‚îÇ     WORKFORCE ENGINE       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ Auth Service     ‚îÇ   ‚îÇ ‚Ä¢ Attendance Service       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ RBAC Guard       ‚îÇ   ‚îÇ ‚Ä¢ Leave Management         ‚îÇ   ‚îÇ
       ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
       ‚îÇ                                                             ‚îÇ
       ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
       ‚îÇ   ‚îÇ  DATA PROOCESSOR   ‚îÇ   ‚îÇ     SYSTEM SCHEDULER       ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ Analytics/Report ‚îÇ   ‚îÇ ‚Ä¢ Cron Jobs (Reminders)    ‚îÇ   ‚îÇ
       ‚îÇ   ‚îÇ ‚Ä¢ PDF/Excel Gen    ‚îÇ   ‚îÇ ‚Ä¢ Auto-Validation          ‚îÇ   ‚îÇ
       ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ                              ‚îÇ
        Prisma ORM    ‚îÇ                              ‚îÇ API Integrations
        (Connection   ‚ñº                              ‚ñº
          Pool)      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                     ‚îÇ      DATA PERSISTENCE    ‚îÇ    ‚îÇ      EXTERNAL CLOUD         ‚îÇ
                     ‚îÇ                          ‚îÇ    ‚îÇ                             ‚îÇ
                     ‚îÇ   [ POSTGRESQL DB ]      ‚îÇ    ‚îÇ üìß Resend (Email Infra)     ‚îÇ
                     ‚îÇ   ‚Ä¢ Users & Profiles     ‚îÇ    ‚îÇ üåç Google Geolocation API   ‚îÇ
                     ‚îÇ   ‚Ä¢ Time & Locations     ‚îÇ    ‚îÇ üìà Google Sheets Export     ‚îÇ
                     ‚îÇ   ‚Ä¢ Leaves & Approvals   ‚îÇ    ‚îÇ                             ‚îÇ
                     ‚îÇ                          ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ 2. EXECUTIVE SUMMARY
The **Rudratic HR System** is an enterprise-grade, cloud-native workforce management platform. It consolidates attendance, leave management, and performance analytics into a single, secure solution. Built on the modern **Next.js 16 + Node.js** stack, it ensures high performance, zero-trust security, and seamless scalability for growing organizations.

---

## üõ†Ô∏è 3. CORE TECHNOLOGY STACK

### üñ•Ô∏è Frontend (The Experience)
*   **Next.js 16 (App Router)**: The react framework for production, offering server-side rendering for speed.
*   **Tailwind CSS v4 + Shadcn UI**: Industry-leading styling for a professional, adaptive, and accessible UI.
*   **Framer Motion**: Provides fluid, premium-feel animations and micro-interactions.
*   **Recharts**: Enterprise data visualization for analytics and trends.

### ‚öôÔ∏è Backend (The Engine)
*   **Node.js + Express**: High-concurrency event-driven architecture.
*   **TypeScript 5.3**: Ensuring code reliability and reducing runtime errors.
*   **Node-Cron**: Automating mission-critical tasks (Daily Reminders, Weekly Reports).
*   **ExcelJS / PDFKit**: Generating professional compliance documents on the fly.

### üóÑÔ∏è Database (The Vault)
*   **PostgreSQL**: rigorous object-relational database for critical data integrity.
*   **Prisma ORM**: Modern database access layer with type safety and migration tracking.

---

## üîí 4. ROLE-BASED ARCHITECTURE FLOWS

### üëë Administrator (God Mode)
*   **Scope**: Total System Control.
*   **Capabilities**: Manage User Lifecycle (Hire/Fire), global configurations, view Audit Logs, and override system settings.
*   **Security**: Protected by `AdminGuard` middleware.

### üëî Manager (Team Mode)
*   **Scope**: Departmental Oversight.
*   **Capabilities**: View Team Dashboard, Approve/Reject Leave Requests, Validate Timesheets, and generate Team Reports.
*   **Security**: Scoped data access (`WHERE department_id = X`).

### üë∑ Employee (User Mode)
*   **Scope**: Personal Data Only.
*   **Capabilities**: GPS-verified Clock In/Out, view Personal History, Request Leave, and download Payslips.
*   **Security**: Strict ownership checks (`WHERE user_id = me`).

---

## üß¨ 5. DATA MODEL & SCALABILITY STRATEGY

### üìà Scalability Features
*   **Stateless Authentication**: Uses `JWT` (JSON Web Tokens) so the server doesn't need to store session memory, allowing infinite horizontal scaling.
*   **Connection Pooling**: Prisma manages database connections efficiently to handle high concurrent user loads.
*   **Optimized Assets**: Next.js automatically optimizes images and fonts for edge-network delivery.

### üíé Key Data Entities
1.  **User**: The central identity (includes Role, Dept, Status).
2.  **TimeEntry**: High-volume transactional data (Clock In, Out, Duration, GPS Coords).
3.  **LeaveRequest**: State-machine based entity (Pending -> Approved/Rejected).
4.  **AuditLog**: Immutable security ledger for compliance.

---

## üõ°Ô∏è 6. SECURITY & COMPLIANCE
*   **Zero-Trust Model**: Every API request is authenticated and authorized independently.
*   **Encryption**: All passwords are Bcrypt-hashed; all traffic over TLS 1.3.
*   **Input Sanitization**: `Zod` schema validation prevents SQL Injection and XSS attacks.

---
**Document Status**: Final Release
**Date**: February 04, 2026
**Approved By**: Technical Leadership
